---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Modal from '../../components/Modal.astro';

const subInitiatives = [
  {
    id: 'ctis-modal',
    title: 'Central Texas Issue Series',
    description: 'Discover the Initiatives Led by the CGCS Team',
    image: '/images/2022/10/CentralTexasIssueSeries-1-scaled-e1756417885218.png',
    modalContent: {
      description: 'The Central Texas Issue Series (CTIS) projects provide a platform for dialogue, coalition building, active collaboration, problem-solving, and action on issues of importance to Central Texas. The initiative identifies real-world problems with the goal of building a diverse coalition of students and community members that come together to create and implement solutions.',
      accordionItems: [
        {
          title: 'Climate & Sustainability',
          description: 'Addresses environmental challenges facing Central Texas and promotes community resilience through sustainable practices.',
          details: [
            'Environmental policy dialogue and community engagement',
            'Sustainable practices education and implementation',
            'Building coalitions to address climate challenges',
            'Student-led sustainability initiatives',
          ],
        },
        {
          title: 'Journalism & Media',
          description: 'Strengthens public media literacy and understanding of key issues while enhancing the role of a free press in democracy.',
          details: [
            'Media literacy education and workshops',
            'Supporting local journalism initiatives',
            'Understanding the role of press in democracy',
            'Addressing misinformation and news literacy',
          ],
        },
        {
          title: 'Public Policy & Law',
          description: 'Promotes public policy innovation and legal literacy to empower community members with agency and understanding.',
          details: [
            'Legal literacy education for the public',
            'Policy innovation workshops',
            'Community engagement in local governance',
            'Understanding rights and civic responsibilities',
          ],
        },
      ],
      lookingAhead: 'The CGCS continues to expand the Central Texas Issue Series to address emerging challenges and build coalitions across our community. We welcome new partnerships and student involvement.',
    },
  },
  {
    id: 'service-modal',
    title: 'Service Learning Courses',
    description: 'Explore Our Courses at ACC',
    image: '/images/2022/09/pexels-shox-28271058-2-scaled-e1756417731210.jpg',
    modalContent: {
      description: 'The CGCS serves as an incubator and action arm in the development and implementation of Service Learning Classes. In cooperation with staff and academic departments across ACC and community partners, we conceptualize credit-yielding service learning courses designed to provide students with cross-functional professional skills applied against specific matters of concern to Central Texas and beyond.',
      accordionItems: [
        {
          title: 'Generative AI in Public Service',
          description: 'A course designed to build a generative AI application for a public institution, providing hands-on experience with emerging technology.',
          details: [
            'Partnership with ACC\'s Office of Experiential Learning',
            'Collaboration with ACC\'s Business, Government & Technical Communications Program',
            'Working with nonprofit "Public Service Desk"',
            'Building real AI applications for public sector use',
            'Learning practical AI implementation skills',
          ],
        },
        {
          title: 'Countering Human Trafficking',
          description: 'A course teaching open source intelligence (OSINT) collection and analysis in support of active law enforcement operations.',
          details: [
            'Partnership with ACC\'s Office of Experiential Learning',
            'Collaboration with nonprofit "Skull Games"',
            'Learning OSINT techniques and analysis',
            'Supporting operations to liberate victims',
            'Contributing to prosecution of suspected traffickers',
          ],
        },
      ],
      lookingAhead: 'The CGCS welcomes proposals and partners to launch new service learning courses that provide students with meaningful real-world experience while serving our communities.',
    },
  },
];
---

<BaseLayout title="Public Service Initiative">
  <!-- Hero Section -->
  <section class="relative py-20 bg-white">
    <!-- Mobile Navigation Arrows (top) -->
    <div class="flex justify-between items-center px-4 mb-8 md:hidden">
      <a
        href="/initiatives/citizenship-tech"
        class="w-12 h-12 bg-white shadow-lg rounded-full flex items-center justify-center hover:bg-gray-50 hover:scale-110 transition-all"
        aria-label="Previous initiative"
      >
        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
      </a>
      <span class="text-sm text-gray-500 font-medium">Browse Initiatives</span>
      <a
        href="/initiatives/civic-leadership"
        class="w-12 h-12 bg-white shadow-lg rounded-full flex items-center justify-center hover:bg-gray-50 hover:scale-110 transition-all"
        aria-label="Next initiative"
      >
        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </a>
    </div>

    <!-- Desktop Navigation Arrows (sides) -->
    <a
      href="/initiatives/citizenship-tech"
      class="hidden md:flex absolute left-4 lg:left-8 top-1/2 -translate-y-1/2 z-10 w-16 h-16 bg-white shadow-lg rounded-full items-center justify-center hover:bg-gray-50 hover:scale-110 transition-all"
      aria-label="Previous initiative"
    >
      <svg class="w-10 h-10 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
    </a>
    <a
      href="/initiatives/civic-leadership"
      class="hidden md:flex absolute right-4 lg:right-8 top-1/2 -translate-y-1/2 z-10 w-16 h-16 bg-white shadow-lg rounded-full items-center justify-center hover:bg-gray-50 hover:scale-110 transition-all"
      aria-label="Next initiative"
    >
      <svg class="w-10 h-10 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </a>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div class="order-2 lg:order-1">
          <div class="aspect-[4/3] overflow-hidden rounded-2xl shadow-xl">
            <img
              src="https://i0.wp.com/cgcsacc.org/wp-content/uploads/2022/09/about-us-2.jpg?fit=988%2C988&ssl=1"
              alt="Public Service Initiative"
              class="w-full h-full object-cover object-center"
            />
          </div>
        </div>

        <div class="order-1 lg:order-2">
          <p class="text-accent-orange font-medium mb-4">Address Real World Community Problems</p>
          <h1 class="text-4xl md:text-5xl font-bold text-text-dark mb-6">
            Public Service Initiative
          </h1>
          <div class="space-y-4 text-text-light text-lg">
            <p>
              The CGCS conceptualizes, designs and executes events, programs, and projects designed to serve the community. The Public Service Initiative identifies specific real world problems with the goal of building a diverse coalition of students and community members that come together to create and implement solutions.
            </p>
            <p>
              Explore our initiatives in greater detail to learn how you can gain experience and expertise while contributing to a tangible impact on our communities. Learn about specific issues, for example climate change or journalism, in order to work in small and large groups to craft a shared understanding and corresponding solutions to pressing issues.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Sub-initiatives Carousel -->
  <section class="py-20 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-text-dark text-center mb-12">Our Programs</h2>

      <div class="flex flex-col md:flex-row justify-center gap-8">
        {subInitiatives.map((item) => (
          <button data-modal={item.id} class="group text-left w-full md:w-1/3">
            <div class="relative rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow h-full">
              <div class="aspect-[4/3]">
                <img
                  src={item.image}
                  alt={item.title}
                  class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                />
              </div>
              <div class="absolute bottom-0 left-0 right-0 p-6 backdrop-blur-md bg-black/50">
                <h3 class="text-xl font-bold text-white group-hover:text-primary transition-colors">
                  {item.title}
                </h3>
                <p class="text-gray-300 mt-2">{item.description}</p>
              </div>
            </div>
          </button>
        ))}
      </div>
    </div>
  </section>

  <!-- Badges Section -->
  <section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-4xl font-bold text-text-dark mb-12">Badges</h2>

      <!-- Technology & Civic Leadership Badge - Main Badge -->
      <div class="main-badge-section">
        <div class="main-badge-image">
          <a href="https://app.suitable.co/institution/887/activities/470291" target="_blank" rel="noopener noreferrer">
            <img
              src="/images/technology-civic-leadership-badge.png"
              alt="ACC Technology & Civic Leadership Badge"
              width="280"
              height="280"
              class="w-full max-w-[280px] object-contain hover:scale-105 transition-transform"
            />
          </a>
        </div>
        <div class="main-badge-content">
          <h3 class="main-badge-title">TECHNOLOGY & CIVIC LEADERSHIP BADGE</h3>
          <p class="main-badge-text">
            Earn a Technology & Civic Leadership badge by attending three qualifying events and completing a short reflection in <a href="https://app.suitable.co/login" target="_blank" rel="noopener noreferrer" class="text-link">Suitable</a>. Be sure to check in with the CGCS! We are working to create more badging opportunities.
          </p>
        </div>
      </div>

      <!-- Mini Milestone Badges -->
      <div class="milestone-section">
        <p class="milestone-label">Qualifying Event Badges</p>
        <p class="milestone-hint">Attend any 3 events from the options below to earn the Technology & Civic Leadership Badge</p>
        <div class="milestone-badges">
          <a href="https://austin-ai.org/events/" target="_blank" rel="noopener noreferrer" class="milestone-card group">
            <img src="/images/2025/12/aaiaBrandedBadge.png" alt="Austin AI Alliance" loading="lazy" decoding="async" width="180" height="180" class="w-full aspect-square object-contain p-3 group-hover:scale-105 transition-transform duration-300" />
          </a>
          <a href="https://www.austinforum.org/events" target="_blank" rel="noopener noreferrer" class="milestone-card group">
            <img src="/images/2025/12/aftsBrandedBadge.png" alt="Austin on Technology & Society" loading="lazy" decoding="async" width="180" height="180" class="w-full aspect-square object-contain p-3 group-hover:scale-105 transition-transform duration-300" />
          </a>
          <a href="https://www.meetup.com/austin-langchain-ai-group/" target="_blank" rel="noopener noreferrer" class="milestone-card group">
            <img src="/images/2025/12/langchainBrandedBadge.png" alt="Austin LangChain AIMUG" loading="lazy" decoding="async" width="180" height="180" class="w-full aspect-square object-contain p-3 group-hover:scale-105 transition-transform duration-300" />
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Collaboration CTA -->
  <section class="py-20 bg-gray-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <a href="/contact" class="group block bg-white rounded-3xl p-12 shadow-lg hover:bg-gray-100 transition-colors">
        <h2 class="text-3xl font-bold text-text-dark mb-4">Propose a Collaboration</h2>
        <p class="text-text-light mb-6">Contact us to explore partnership opportunities</p>
        <span class="inline-flex items-center gap-2 text-primary font-semibold group-hover:gap-3 transition-all">
          Contact Us
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </span>
      </a>
    </div>
  </section>

  <!-- Modals -->
  {subInitiatives.map((item) => (
    <Modal
      id={item.id}
      title={item.title}
      image={item.image}
      description={item.modalContent.description}
      highlights={item.modalContent.highlights}
      accordionItems={item.modalContent.accordionItems}
      lookingAhead={item.modalContent.lookingAhead}
    />
  ))}

  <script>
    // Animated close function for modals
    function closeWithAnimation(modal: HTMLDialogElement) {
      modal.classList.add('closing');
      modal.addEventListener('animationend', () => {
        modal.classList.remove('closing');
        modal.close();
      }, { once: true });
    }

    // Open modal on button click
    document.querySelectorAll('[data-modal]').forEach((btn) => {
      btn.addEventListener('click', () => {
        const modalId = (btn as HTMLElement).dataset.modal;
        const modal = document.getElementById(modalId!) as HTMLDialogElement;
        modal?.showModal();
      });
    });

    // Close modal on X button click
    document.querySelectorAll('.modal-close').forEach((btn) => {
      btn.addEventListener('click', () => {
        const dialog = btn.closest('dialog') as HTMLDialogElement;
        closeWithAnimation(dialog);
      });
    });

    // Close modal on backdrop click
    document.querySelectorAll('dialog').forEach((dialog) => {
      dialog.addEventListener('click', (e) => {
        if (e.target === dialog) {
          closeWithAnimation(dialog as HTMLDialogElement);
        }
      });
    });
  </script>

  <style>
    .main-badge-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2rem;
      margin-bottom: 4rem;
      text-align: center;
    }

    @media (min-width: 768px) {
      .main-badge-section {
        flex-direction: row;
        align-items: flex-start;
        text-align: left;
      }
    }

    .main-badge-image {
      flex-shrink: 0;
    }

    .main-badge-content {
      max-width: 600px;
    }

    .main-badge-title {
      font-size: 1.75rem;
      font-weight: 700;
      color: #1e3a5f;
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.025em;
    }

    .main-badge-text {
      color: #1e3a5f;
      font-size: 1.125rem;
      line-height: 1.8;
    }

    .milestone-section {
      border-top: 1px solid #e5e7eb;
      padding-top: 2.5rem;
    }

    .milestone-label {
      font-size: 0.875rem;
      font-weight: 600;
      color: #6b7280;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 0.5rem;
    }

    .milestone-hint {
      color: #6b7280;
      font-size: 0.95rem;
      margin-bottom: 1.5rem;
    }

    .milestone-badges {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      max-width: 540px;
    }

    @media (max-width: 640px) {
      .milestone-badges {
        grid-template-columns: repeat(3, 1fr);
        gap: 0.75rem;
      }
    }

    .milestone-card {
      display: block;
      border: 2px solid #1e3a5f;
      border-radius: 0.75rem;
      background: white;
      transition: all 0.3s ease;
    }

    .milestone-card:hover {
      box-shadow: 0 4px 16px rgba(30, 58, 95, 0.15);
    }

    .text-link {
      color: #00A651;
      text-decoration: none;
      transition: color 0.2s ease;
    }

    .text-link:hover {
      color: #1e3a5f;
    }
  </style>
</BaseLayout>
